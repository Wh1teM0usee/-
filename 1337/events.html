<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ú–µ—Ä–æ–ø—Ä–∏—è—Ç–∏—è</title>
    <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>üìÖ</text></svg>">
    <link rel="stylesheet" href="/1337/index.css">
    <link rel="stylesheet" href="/1337/menu.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <style>
        /* –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Å—Ç–∏–ª–∏ –¥–ª—è —Å—Ç—Ä–∞–Ω–∏—Ü—ã –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏–π */
        .events-container {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(350px, 1fr));
            gap: 30px;
            margin-top: 40px;
        }

        .event-card {
            background: var(--white);
            border-radius: 15px;
            overflow: hidden;
            box-shadow: var(--shadow);
            transition: var(--transition);
        }

        .event-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.15);
        }

        .event-image {
            width: 100%;
            height: 250px;
            object-fit: cover;
        }

        .event-content {
            padding: 25px;
        }

        .event-date {
            color: var(--accent);
            font-weight: 600;
            margin-bottom: 10px;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .event-date i {
            font-size: 1.1rem;
        }

        .event-title {
            font-size: 1.4rem;
            color: var(--primary);
            margin-bottom: 15px;
        }

        .event-description {
            color: var(--gray);
            margin-bottom: 20px;
        }

        .no-events {
            text-align: center;
            grid-column: 1 / -1;
            padding: 50px;
            background: var(--white);
            border-radius: 15px;
            box-shadow: var(--shadow);
        }

        .no-events i {
            font-size: 3rem;
            color: var(--gray);
            margin-bottom: 20px;
        }

        .loading {
            text-align: center;
            grid-column: 1 / -1;
            padding: 50px;
        }

        .loading-spinner {
            border: 5px solid #f3f3f3;
            border-top: 5px solid var(--accent);
            border-radius: 50%;
            width: 50px;
            height: 50px;
            animation: spin 1s linear infinite;
            margin: 0 auto 20px;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
    </style>
</head>
<body>
    <!-- –ë–ª–æ–∫ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ -->
    <div id="auth-status">
        <span id="auth-message">–ü—Ä–æ–≤–µ—Ä–∫–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏...</span>
        <button id="logout-btn">–í—ã–π—Ç–∏</button>
        <a href="login.html" id="login-btn">–í–æ–π—Ç–∏</a>
    </div>
    
    <!-- –ë–ª–æ–∫ –º–µ–Ω—é -->
    <div id="main-menu-container">
        <button id="menu-toggle" class="menu-btn">
            <i class="fas fa-bars"></i> –ú–µ–Ω—é
        </button>
        <nav id="dropdown-menu">
            <ul>
                <li><a href="/1337/profile.html"><i class="fas fa-user"></i> –ü—Ä–æ—Ñ–∏–ª—å</a></li>
                <li><a href="/1337/index.html"><i class="fas fa-home"></i> –ì–ª–∞–≤–Ω–∞—è</a></li>
                <li><a href="/1337/booking.html"><i class="fas fa-bed"></i> –ù–æ–º–µ—Ä–∞</a></li>
                <li><a href="/1337/services.html"><i class="fas fa-spa"></i> –£—Å–ª—É–≥–∏</a></li>
                <li><a href="/1337/group-bookings.html"><i class="fas fa-users"></i> –ì—Ä—É–ø–ø–æ–≤—ã–µ –∑–∞–µ–∑–¥—ã</a></li>
                <li><a href="/1337/events.html"><i class="fas fa-calendar-alt"></i> –ú–µ—Ä–æ–ø—Ä–∏—è—Ç–∏—è</a></li>
                <li><a href="/1337/blog.html"><i class="fas fa-blog"></i> –ë–ª–æ–≥</a></li>
                <li><a href="/1337/about.html"><i class="fas fa-info-circle"></i> –û –Ω–∞—Å</a></li>
                <li><a href="/1337/contacts.html"><i class="fas fa-map-marker-alt"></i> –ö–æ–Ω—Ç–∞–∫—Ç—ã</a></li>
                <li><a href="/1337/reviews.html"><i class="fas fa-comment"></i> –û—Ç–∑—ã–≤—ã</a></li>

            </ul>
        </nav>
    </div>

    <!-- –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–Ω—Ç–µ–Ω—Ç -->
    <section class="events-section">
        <div class="container">
            <div class="section-title">
                <h2>–ú–µ—Ä–æ–ø—Ä–∏—è—Ç–∏—è –≤ –æ—Ç–µ–ª–µ</h2>
                <p>–£–∑–Ω–∞–π—Ç–µ –æ –ø—Ä–µ–¥—Å—Ç–æ—è—â–∏—Ö —Å–æ–±—ã—Ç–∏—è—Ö –∏ —Ä–∞–∑–≤–ª–µ—á–µ–Ω–∏—è—Ö</p>
            </div>
            
            <div class="events-container" id="events-container">
                <div class="loading">
                    <div class="loading-spinner"></div>
                    <p>–ó–∞–≥—Ä—É–∑–∫–∞ –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏–π...</p>
                </div>
            </div>
        </div>
    </section>

    <!-- –§—É—Ç–µ—Ä -->
    <footer>
        <div class="container">
            <div class="footer-grid">
                <div class="footer-column">
                    <h4>Hotel NN</h4>
                    <p>–≥. –ö–æ—Å—Ç—Ä–æ–º–∞, —É–ª. –ü—É—à–∫–∏–Ω–∞, 3</p>
                    <p>+7 (4942) 123-456</p>
                    <p>info@hotelnn.ru</p>
                </div>
                
                <div class="footer-column">
                    <h4>–ü–æ–¥–ø–∏—Å–∫–∞ –Ω–∞ —Ä–∞—Å—Å—ã–ª–∫—É</h4>
                    <p>–£–∑–Ω–∞–≤–∞–π—Ç–µ –ø–µ—Ä–≤—ã–º–∏ –æ —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã—Ö –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è—Ö</p>
                    <form class="subscribe-form">
                        <input type="email" placeholder="–í–∞—à email">
                        <button type="submit" class="btn">></button>
                    </form>
                </div>
                
                <div class="footer-column">
                    <h4>–ù–∞–≤–∏–≥–∞—Ü–∏—è</h4>
                    <div class="footer-links">
                        <a href="/1337/html/profile.html">–ü—Ä–æ—Ñ–∏–ª—å</a>
                        <a href="/1337/index.html">–ì–ª–∞–≤–Ω–∞—è</a>
                        <a href="/1337/booking.html">–ù–æ–º–µ—Ä–∞</a>
                        <a href="/1337/services.html">–£—Å–ª—É–≥–∏</a>
                        <a href="/1337/group-bookings.html">–ì—Ä—É–ø–ø–æ–≤—ã–µ –∑–∞–µ–∑–¥—ã</a>
                        <a href="/1337/events.html">–ú–µ—Ä–æ–ø—Ä–∏—è—Ç–∏—è</a>
                        <a href="/1337/blog.html">–ë–ª–æ–≥</a>
                        <a href="/1337/about.htm">–û –Ω–∞—Å</a>
                        <a href="/1337/contacts.html">–ö–æ–Ω—Ç–∞–∫—Ç—ã</a>
                        <a href="/1337/reviews.html">–û—Ç–∑—ã–≤—ã</a>
                    </div>
                </div>
            </div>
            
            <div class="social-links">
                <a href="#"><i class="fab fa-vk"></i></a>
                <a href="#"><i class="fab fa-instagram"></i></a>
                <a href="#"><i class="fab fa-telegram"></i></a>
                <a href="#"><i class="fab fa-whatsapp"></i></a>
            </div>
        </div>
    </footer>

    <!-- –°–∫—Ä–∏–ø—Ç—ã -->
    <script src="/1337/menu.js"></script>
    <script src="/1337/index.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // –§—É–Ω–∫—Ü–∏—è –¥–ª—è —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –¥–∞—Ç—ã
            function formatDate(dateString) {
                const options = { day: 'numeric', month: 'long', year: 'numeric'};
                return new Date(dateString).toLocaleDateString('ru-RU', options);
            }

            // –ó–∞–≥—Ä—É–∑–∫–∞ –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏–π –∏–∑ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
            fetch('/1337/db.php?action=get_events')
                .then(response => response.json())
                .then(events => {
                    const container = document.getElementById('events-container');
                    
                    if (events.length === 0) {
                        container.innerHTML = `
                            <div class="no-events">
                                <i class="fas fa-calendar-times"></i>
                                <h3>–ù–µ—Ç –∑–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏–π</h3>
                                <p>–°–ª–µ–¥–∏—Ç–µ –∑–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è–º–∏, –º—ã —Å–∫–æ—Ä–æ –∞–Ω–æ–Ω—Å–∏—Ä—É–µ–º –Ω–æ–≤—ã–µ —Å–æ–±—ã—Ç–∏—è!</p>
                            </div>
                        `;
                        return;
                    }
                    
                    container.innerHTML = '';
                    
                    events.forEach(event => {
                        const eventElement = document.createElement('div');
                        eventElement.className = 'event-card';
                        eventElement.innerHTML = `
                            <img src="${event.image_path}" alt="${event.title}" class="event-image">
                            <div class="event-content">
                                <div class="event-date">
                                    <i class="fas fa-calendar-alt"></i>
                                    ${formatDate(event.event_date)}
                                </div>
                                <h3 class="event-title">${event.title}</h3>
                                <p class="event-description">${event.description}</p>
                                
                            </div>
                        `;
                        container.appendChild(eventElement);
                    });
                })
                .catch(error => {
                    console.error('–û—à–∏–±–∫–∞ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏–π:', error);
                    const container = document.getElementById('events-container');
                    container.innerHTML = `
                        <div class="no-events">
                            <i class="fas fa-exclamation-triangle"></i>
                            <h3>–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏–π</h3>
                            <p>–ü–æ–ø—Ä–æ–±—É–π—Ç–µ –æ–±–Ω–æ–≤–∏—Ç—å —Å—Ç—Ä–∞–Ω–∏—Ü—É –∏–ª–∏ –∑–∞–π—Ç–∏ –ø–æ–∑–∂–µ</p>
                        </div>
                    `;
                });
        });
    </script>
</body>
</html>